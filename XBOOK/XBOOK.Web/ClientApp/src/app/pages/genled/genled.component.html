<nb-card>
  <nb-card-header class="pb-1 border-0">
    <div class="row">
      <div class="col-5 col-lg-4">
        <div class="d-flex">
          <span class="card__title pr-3 pt-1">{{ 'GEN.HEADER' | translate }}</span>
          <div (click)='SearchGenLed()'>
            <img src="../../../assets/search.png" class="button__search"
              alt="search General Ledger"></div>
        </div>
        <div class="btn btn-flat mr-1 p-0 mb-0" style="color: #546D74;">
          <div *ngIf=" case==null">{{ 'COMMON.DAY.Thismonth' | translate }}: {{firstDate}} - {{endDate1}}</div>
          <div *ngIf="case=== 1">{{ 'COMMON.DAY.Thismonth' | translate }}: {{startDay}} {{keyspace}} {{endDay}}</div>
          <div *ngIf="case=== 2">{{ 'COMMON.DAY.Thisquarter' | translate }}: {{startDay}} {{keyspace}} {{endDay}}</div>
          <div *ngIf="case=== 3">{{ 'COMMON.DAY.Thisyear' | translate }}: {{startDay}} {{keyspace}} {{endDay}}</div>
          <div *ngIf="case=== 4">{{ 'COMMON.DAY.Lastquarter' | translate }}: {{startDay}} {{keyspace}} {{endDay}}</div>
          <div *ngIf="case=== 5">{{ 'COMMON.DAY.Lastyear' | translate }}: {{startDay}} {{keyspace}} {{endDay}}</div>
          <div *ngIf="case=== 6">{{ 'COMMON.DAY.Dateoptions' | translate }}: {{startDay}} {{keyspace}} {{endDay}}</div>
        </div>
      </div>
      <div class="col-3 col-lg-4">
        <!-- <div ngbDropdown>
          <button class="btn btn-flat mr-1" id="bulkActions" ngbDropdownToggle>More Actions
          </button>
          <div ngbDropdownMenu aria-labelledby="bulkActions">
            <button class="dropdown-item"><span class="icon-import"></span> Import General Ledger</button>
            <button (click)="exportData()" class="dropdown-item"><span class="icon-export"></span> Export General
              Ledger</button>
          </div>
        </div> -->
      </div>
      <div class="col-4 col-lg-4">
        <div ngbDropdown class="float-right">
          <div class="d-inline-block mx-2">
            <button (click)="Print()" class="btn btn-raised mr-1 btn-secondary">Print</button>
          </div>
        </div>
      </div>
      <!-- <hr width="98%" style="height: 2px;;background: #6A0888;" class="mt-0" /> -->
    </div>
  </nb-card-header>
  <nb-card-body class="pt-0">
    <div class="row">
      <hr width="98%" style="height: 2px;;background: #6A0888;" class="my-0" />
      <div class="col-md-12">
        <ngx-datatable #myTable class="bootstrap hover no-striped flex" [rows]="genViews"
          [sorts]="[{prop: 'id', dir: 'desc'}]" [loadingIndicator]="loadingIndicator" [columnMode]="ColumnMode.force"
          [headerHeight]="60" [footerHeight]="100" [reorderable]="reorderable" [limit]="50" [selected]="selected"
          [selectionType]="SelectionType.checkbox" [rowHeight]="getRowHeight" [selectAllRowsOnPage]="false">


          <ngx-datatable-column name="{{ 'GEN.LIST.INVOICENUMBER' | translate }}" prop="transactionNo">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <div (click)="redirectToEditInvoice(row.transactionNo)" style="color: cadetblue;">{{row.transactionNo}}</div>
            </ng-template>
          </ngx-datatable-column>


          <ngx-datatable-column prop="date" name="{{ 'GEN.LIST.DATE' | translate }}" [cellClass]="'col-left'"
            [headerClass]="'col-left'">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
              <div class="col-left" >
                <div>
                  {{row.dateIssue | date: 'dd/MM/yyyy'}}
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>


          <ngx-datatable-column name="{{ 'GEN.LIST.reference' | translate }}" prop="note">
            <ng-template let-row="row" ngx-datatable-cell-template>
              <div>{{row.note}}</div>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column prop="accNumber" name="{{ 'GEN.LIST.AccNumber' | translate }}"
            [cellClass]="'col-center'" [headerClass]="'col-center'">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
              <div class="col-center">
                <div>
                  {{row.accNumber}}
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>


          <ngx-datatable-column prop="crspAccNumber" name="{{ 'GEN.LIST.crspAccNumber' | translate }}"
            [cellClass]="'col-center'" [headerClass]="'col-center'">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
              <div class="col-center">
                <div>
                  {{row.crspAccNumber}}
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>



          <ngx-datatable-column prop="debit" name="{{ 'GEN.LIST.debit' | translate }}" [cellClass]="'text-right'"
            [headerClass]="'text-right'">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
              <div class="text-right">
                <div>
                  <div>
                    <div *ngIf="row.debit !== 0" class="col-more-info">
                      {{row.debit | currency:'VND':''}}
                    </div>
                    <div *ngIf="row.debit === 0" class="col-more-info">
                      <a>-</a>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column prop="credit" name="{{ 'GEN.LIST.credit' | translate }}"
            [cellClass]="'text-right'" [headerClass]="'text-right'">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
              <div class="text-right" style="padding-left: 3%;">
                <div>
                  <div>
                    <div *ngIf="row.credit !== 0" class="col-more-info">
                      {{row.credit | currency:'VND':''}}
                    </div>
                    <div *ngIf="row.credit === 0" class="col-more-info">
                      <a>-</a>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-footer>
            <ng-template ngx-datatable-footer-template let-rowCount="rowCount" let-pageSize="pageSize"
              let-selectedCount="selectedCount" let-curPage="curPage" let-offset="offset" let-isVisible="isVisible">
              <div style="display: inline-block;width: 100%;border-top: 3px double #ccc;padding-top: 10px;">
                <div class="text-right datatable__footer__row">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div class="text-center">
                    Tá»•ng
                  </div>
                  <div>
                    <div class="total">
                      <div *ngIf="getGrantTotal() !== 0" style="color: rgb(16, 20, 20)" class="col-more-info">
                        {{getGrantTotal() | currency:'VND':''}}
                      </div>
                      <div *ngIf="getGrantTotal() === 0">
                        <a>-</a>
                      </div>
                    </div>
                  </div>
                  <div>
                    <div>
                      <div *ngIf="getGrantTotalDebit() !== 0" style="color: rgb(16, 20, 20)" class="col-more-info">
                        {{getGrantTotalDebit() | currency:'VND':''}}
                      </div>
                      <div *ngIf="getGrantTotalDebit() === 0">
                        <a>-</a>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="page-count col-6">
                    <span>Total: {{rowCount}} items </span>
                  </div>
                  <div class="col-6 text-right">
                    <datatable-pager [pagerLeftArrowIcon]="'datatable-icon-left'"
                      [pagerRightArrowIcon]="'datatable-icon-right'" [pagerPreviousIcon]="'datatable-icon-prev'"
                      [pagerNextIcon]="'datatable-icon-skip'" [count]="rowCount" [page]="curPage" [size]="pageSize"
                      [hidden]="!((rowCount / pageSize) > 1)" (change)="myTable.onFooterPage($event)">
                    </datatable-pager>
                  </div>
                </div>
              </div>

            </ng-template>
          </ngx-datatable-footer>
        </ngx-datatable>
      </div>
    </div>
  </nb-card-body>
</nb-card>